<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-parent</artifactId>
		<version>3.4.3</version>
		<relativePath/> <!-- lookup parent from repository -->
	</parent>
	<groupId>com.archer.monolithic</groupId>
	<artifactId>Trivia</artifactId>
	<version>0.0.1-SNAPSHOT</version>
	<name>Trivia</name>
	<description>Demo project for Spring Boot</description>
	<url/>
	<licenses>
		<license/>
	</licenses>
	<developers>
		<developer/>
	</developers>
	<scm>
		<connection/>
		<developerConnection/>
		<tag/>
		<url/>
	</scm>
	<properties>
		<java.version>17</java.version>
	</properties>
	<dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-data-jpa</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>

		<dependency>
			<groupId>org.postgresql</groupId>
			<artifactId>postgresql</artifactId>
			<scope>runtime</scope>
		</dependency>
		<dependency>
			<groupId>org.projectlombok</groupId>
			<artifactId>lombok</artifactId>
			<optional>true</optional>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-test</artifactId>
			<scope>test</scope>
		</dependency>
	
        <!-- SECURITY FIX: Updated the Maven dependency to the safest version that fully addresses the High severity Allocation of Resources Without Limits or Throttling vulnerability in Apache Tomcat. Version 10.1.44 is the fixed version that resolves the issue completely and is compatible with the previous version, 10.1.36, which had the issue. -->
        <dependency>
<groupId>org.apache.tomcat.embed</groupId>
<artifactId>tomcat-embed-core</artifactId>
<version>10.1.44</version>
</dependency>

        <!-- SECURITY FIX: The provided code snippet updates the Maven dependency to version 10.1.44 of org.apache.tomcat.embed:tomcat-embed-core. This fixes the Improper Resource Shutdown or Release vulnerability in Apache Tomcat, which was causing the Tomcat server to be vulnerable to the MadeYouReset attack. The bug occurred due to a failure to release resources after HTTP/2 control frames were processed, leading to resource exhaustion. -->
        <dependency>
<groupId>org.apache.tomcat.embed</groupId>
<artifactId>tomcat-embed-core</artifactId>
<version>10.1.44</version>
</dependency>

        <!-- SECURITY FIX: The `postgresql` version 42.7.7 update fixes the authentication vulnerability in channel binding. The previous version incorrectly allowed connections using authentication methods that do not support channel binding, leaving it vulnerable to man-in-the-middle attacks. -->
        <dependency>
<groupId>org.postgresql</groupId>
<artifactId>postgresql</artifactId>
<version>42.7.7</version>
<scope>runtime</scope>
</dependency>

        <!-- SECURITY FIX: The updated version of spring-boot fixes a vulnerability that affects EndpointRequest.to(). The fix ensures that the correct matcher is created, even if the actuator endpoint is not exposed. -->
        <dependency>
<groupId>org.springframework.boot</groupId>
<artifactId>spring-boot</artifactId>
<version>${spring-boot.version}</version>
</dependency>
</dependencies>

	<build>
		<plugins>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-compiler-plugin</artifactId>
				<configuration>
					<annotationProcessorPaths>
						<path>
							<groupId>org.projectlombok</groupId>
							<artifactId>lombok</artifactId>
						</path>
					</annotationProcessorPaths>
				</configuration>
			</plugin>
			<plugin>
				<groupId>org.springframework.boot</groupId>
				<artifactId>spring-boot-maven-plugin</artifactId>
				<configuration>
					<excludes>
						<exclude>
							<groupId>org.projectlombok</groupId>
							<artifactId>lombok</artifactId>
						</exclude>
					</excludes>
				</configuration>
			</plugin>
		</plugins>
	</build>

</project>
